<Window x:Class="CoilViewer.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Settings"
        Width="600"
        Height="400"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        MinWidth="500"
        MinHeight="300"
        Background="#FF1E1E1E">
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontSize" Value="13" />
        </Style>
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="#E0E0E0" />
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Margin" Value="0,0,0,6" />
            <Setter Property="Padding" Value="0" />
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="#2D2D30" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="#3F3F46" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="8,6" />
            <Setter Property="FontSize" Value="13" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="#505050" />
                </Trigger>
                <Trigger Property="IsFocused" Value="True">
                    <Setter Property="BorderBrush" Value="#0078D4" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontSize" Value="13" />
            <Setter Property="Margin" Value="0,4" />
        </Style>
        <Style TargetType="Button">
            <Setter Property="Background" Value="#2D2D30" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="#3F3F46" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="16,8" />
            <Setter Property="FontSize" Value="13" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Margin" Value="8,0,0,0" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#3F3F46" />
                    <Setter Property="BorderBrush" Value="#505050" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#1E1E1E" />
                </Trigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="PrimaryButtonStyle" TargetType="Button" BasedOn="{StaticResource {x:Type Button}}">
            <Setter Property="Background" Value="#0078D4" />
            <Setter Property="BorderBrush" Value="#0078D4" />
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#106EBE" />
                    <Setter Property="BorderBrush" Value="#106EBE" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#005A9E" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Grid Margin="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Border Grid.Row="0" 
                Background="#252526" 
                BorderBrush="#3F3F46" 
                BorderThickness="0,0,0,1"
                Padding="24,18">
            <TextBlock Text="Settings"
                       FontSize="20"
                       FontWeight="SemiBold"
                       Foreground="White" />
        </Border>

        <ScrollViewer Grid.Row="1"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      Padding="24">
            <StackPanel>
                <TextBlock Text="General"
                           FontSize="16"
                           FontWeight="SemiBold"
                           Margin="0,0,0,16"
                           Foreground="#E0E0E0" />

                <Label Content="Preload Image Count:" />
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="PreloadImageCountTextBox"
                             Grid.Column="0"
                             Width="100"
                             TextChanged="OnPreloadImageCountChanged" />
                    <TextBlock Grid.Column="1"
                               Margin="12,0,0,0"
                               VerticalAlignment="Center"
                               TextWrapping="Wrap"
                               Text="Number of images to preload on each side of the current image. Higher values provide smoother navigation but use more memory. Recommended: 10-30."
                               Foreground="#999999"
                               FontSize="11" />
                </Grid>

                <CheckBox x:Name="ShowOverlayCheckBox"
                          Content="Show Overlay"
                          Margin="0,0,0,4"
                          Checked="OnShowOverlayChanged"
                          Unchecked="OnShowOverlayChanged" />
                <TextBlock Margin="24,0,0,20"
                           TextWrapping="Wrap"
                           Text="Display filename, resolution, and other metadata overlay on images. Toggle with 'I' key."
                           Foreground="#999999"
                           FontSize="11" />

                <CheckBox x:Name="LoopAroundCheckBox"
                          Content="Loop Around"
                          Margin="0,0,0,4"
                          Checked="OnLoopAroundChanged"
                          Unchecked="OnLoopAroundChanged" />
                <TextBlock Margin="24,0,0,20"
                           TextWrapping="Wrap"
                           Text="When navigating past the first or last image, wrap around to the other end of the sequence."
                           Foreground="#999999"
                           FontSize="11" />
            </StackPanel>
        </ScrollViewer>

        <Border Grid.Row="2"
                Background="#252526"
                BorderBrush="#3F3F46"
                BorderThickness="0,1,0,0"
                Padding="24,16">
            <StackPanel Orientation="Horizontal"
                       HorizontalAlignment="Right">
                <Button Content="OK"
                        Style="{StaticResource PrimaryButtonStyle}"
                        Click="OnOkClick"
                        Padding="24,8"
                        MinWidth="100"
                        Margin="0,0,8,0" />
                <Button Content="Cancel"
                        Click="OnCancelClick"
                        Padding="24,8"
                        MinWidth="100" />
            </StackPanel>
        </Border>
    </Grid>
</Window>
